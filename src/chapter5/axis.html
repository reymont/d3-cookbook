<style>
    .axis path,
    .axis line {
        fill: none;
        stroke: black;
        shape-rendering: crispEdges;
    }

    .axis text {
        font-family: sans-serif;
        font-size: 11px;
    }
</style>

<body>

    <script src="../../lib/d3.js" charset="utf-8"></script>
    <script>
        var width = 600;
        var height = 600;
        var dataset = [30, 20, 45, 12, 21];

        var svg = d3.select("body").append("svg")
            .attr("width", width)
            .attr("height", height);

        var xScale = d3.scale.linear()
            .domain([0, d3.max(dataset)])
            .range([0, 500]);

        var axis = d3.svg.axis()
            .scale(xScale)
            .orient("bottom");

        svg.append("g")
            .attr("class", "axis")
            .attr("transform", "translate(10,160)")
            .call(axis);

        svg.selectAll("rect")
            .data(dataset)
            .enter()
            .append("rect")
            .attr("x", 10)
            .attr("y", function (d, i) {
                return i * 30;
            })
            .attr("width", xScale) //注意这里
            .attr("height", 28)
            .attr("fill", "red");
    </script>
</body>